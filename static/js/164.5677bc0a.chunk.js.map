{"version":3,"file":"static/js/164.5677bc0a.chunk.js","mappings":"uvuBAEO,MAAMA,EAAeC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,sQAezBC,EAAWJ,EAAAA,GAAOC,IAAGI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,sRAgBrBG,EAAYN,EAAAA,GAAOO,EAACC,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,uMAYpBM,EAAWT,EAAAA,GAAOO,EAACG,IAAAA,GAAAP,EAAAA,EAAAA,GAAA,4JAUnBQ,EAAoBX,EAAAA,GAAOC,IAAGW,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,8HAU9BU,EAAUb,EAAAA,GAAOC,IAAGa,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,6NAcpBY,EAAYf,EAAAA,GAAOgB,MAAKC,IAAAA,GAAAd,EAAAA,EAAAA,GAAA,2XAmBxBe,EAAQlB,EAAAA,GAAOgB,MAAKG,IAAAA,GAAAhB,EAAAA,EAAAA,GAAA,sfAyBpBiB,EAAkBpB,EAAAA,GAAOC,IAAGoB,IAAAA,GAAAlB,EAAAA,EAAAA,GAAA,gQAgB5BmB,EAActB,EAAAA,GAAOuB,OAAMC,IAAAA,GAAArB,EAAAA,EAAAA,GAAA,kMAU3BsB,EAAezB,EAAAA,GAAOuB,OAAMG,IAAAA,GAAAvB,EAAAA,EAAAA,GAAA,8T,6FCzHzC,MAsMA,EAtMyBwB,IAAwB,IAAvB,QAAEC,EAAO,KAAEC,GAAMF,EACzC,MAAMG,GAAWC,EAAAA,EAAAA,OAEVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,OAAQ,CACN,CACEC,MAAO,IACPC,KAAM,GACNC,gBAAiB,GACjBC,QAAS,GACTC,IAAK,GACLC,SAAU,QA2BhBC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAgBC,IACD,WAAfA,EAAMC,MACRjB,KAIJ,OADAkB,OAAOC,iBAAiB,UAAWJ,GAC5B,KACLG,OAAOE,oBAAoB,UAAWL,KAEvC,CAACf,IAEJ,MAMMqB,EAAeA,CAACb,EAAOc,EAASC,KACpC,MAAMC,EAAgBpB,EAASG,OAAOkB,IAAIC,GACxCA,EAAMlB,QAAUA,GAAKmB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQD,GAAK,IAAE,CAACJ,GAAUC,IAAaG,GAE9DrB,EAAY,CAAEE,OAAQiB,KASxB,OACEI,EAAAA,EAAAA,KAACzD,EAAY,CAAC0D,QApBWb,IACrBA,EAAMc,gBAAkBd,EAAMe,QAChC/B,KAkBwCgC,UACxCC,EAAAA,EAAAA,MAACzD,EAAQ,CAAAwD,SAAA,EACPJ,EAAAA,EAAAA,KAAClD,EAAS,CAAAsD,SAAC,qBACD,cAAT/B,IACCgC,EAAAA,EAAAA,MAAClD,EAAiB,CAAAiD,SAAA,EAChBJ,EAAAA,EAAAA,KAAA,OACEM,OAAM,GAAAC,OAAKC,EAAY,SAAAD,OAAQE,EAAc,OAC7CC,IAAKF,EACLG,IAAI,YACJC,MAAM,KACNC,OAAO,QAETb,EAAAA,EAAAA,KAAC/C,EAAQ,CAAAmD,SAAC,iBAGJ,UAAT/B,IACCgC,EAAAA,EAAAA,MAAClD,EAAiB,CAAAiD,SAAA,EAChBJ,EAAAA,EAAAA,KAAA,OACEM,OAAM,GAAAC,OAAKO,EAAQ,SAAAP,OAAQQ,EAAU,OACrCL,IAAKI,EACLH,IAAI,QACJC,MAAM,KACNC,OAAO,QAETb,EAAAA,EAAAA,KAAC/C,EAAQ,CAAAmD,SAAC,aAGJ,WAAT/B,IACCgC,EAAAA,EAAAA,MAAClD,EAAiB,CAAAiD,SAAA,EAChBJ,EAAAA,EAAAA,KAAA,OACEM,OAAM,GAAAC,OAAKS,EAAS,SAAAT,OAAQU,EAAW,OACvCP,IAAKM,EACLL,IAAI,SACJC,MAAM,KACNC,OAAO,QAETb,EAAAA,EAAAA,KAAC/C,EAAQ,CAAAmD,SAAC,cAGJ,UAAT/B,IACCgC,EAAAA,EAAAA,MAAClD,EAAiB,CAAAiD,SAAA,EAChBJ,EAAAA,EAAAA,KAAA,OACEM,OAAM,GAAAC,OAAKW,EAAQ,SAAAX,OAAQY,EAAU,OACrCT,IAAKQ,EACLP,IAAI,QACJC,MAAM,KACNC,OAAO,QAETb,EAAAA,EAAAA,KAAC/C,EAAQ,CAAAmD,SAAC,cAGdC,EAAAA,EAAAA,MAAA,QAAMe,SA1DSC,IACnBA,EAAEC,iBACFhD,GAASiD,EAAAA,EAAAA,IAAe,CAAElD,OAAMmD,SAAUhD,EAASG,UACnDP,KAuDiCgC,SAAA,CAC1B5B,EAASG,OAAOkB,IAAIC,IACnBO,EAAAA,EAAAA,MAAChD,EAAO,CAAA+C,SAAA,EACNJ,EAAAA,EAAAA,KAACzC,EAAS,CACRkE,GAAG,OACHpD,KAAK,SACLqD,UAAU,EACVC,MAAO7B,EAAMjB,KACb+C,SAAUP,GACR5B,EAAaK,EAAMlB,MAAO,OAAQyC,EAAElB,OAAOwB,OAE7CE,YAAY,qCAEd7B,EAAAA,EAAAA,KAACtC,EAAK,CACJ+D,GAAG,kBACHpD,KAAK,SACLyD,IAAK,EACLJ,UAAU,EACVC,MAAO7B,EAAMhB,gBACb8C,SAAUP,GACR5B,EAAaK,EAAMlB,MAAO,kBAAmByC,EAAElB,OAAOwB,OAExDE,YAAY,eAEd7B,EAAAA,EAAAA,KAACtC,EAAK,CACJ+D,GAAG,UACHpD,KAAK,SACLyD,IAAK,EACLJ,UAAU,EACVC,MAAO7B,EAAMf,QACb6C,SAAUP,GACR5B,EAAaK,EAAMlB,MAAO,UAAWyC,EAAElB,OAAOwB,OAEhDE,YAAY,aAEd7B,EAAAA,EAAAA,KAACtC,EAAK,CACJ+D,GAAG,MACHpD,KAAK,SACLyD,IAAK,EACLJ,UAAU,EACVC,MAAO7B,EAAMd,IACb4C,SAAUP,GAAK5B,EAAaK,EAAMlB,MAAO,MAAOyC,EAAElB,OAAOwB,OACzDE,YAAY,SAEd7B,EAAAA,EAAAA,KAACtC,EAAK,CACJ+D,GAAG,WACHpD,KAAK,SACLyD,IAAK,EACLJ,UAAU,EACVC,MAAO7B,EAAMb,SACb2C,SAAUP,GACR5B,EAAaK,EAAMlB,MAAO,WAAYyC,EAAElB,OAAOwB,OAEjDE,YAAY,eAnDF/B,EAAMlB,SAwDtBoB,EAAAA,EAAAA,KAAClC,EAAW,CAACmC,QAnKCoB,IACpBA,EAAEC,iBAEuD,KAArD9C,EAASG,OAAOH,EAASG,OAAOoD,OAAS,GAAGlD,MAIhDJ,EAAY,CACVE,OAAQ,IACHH,EAASG,OACZ,CACEC,MAAOoD,KAAKC,MACZpD,KAAM,GACNC,gBAAiB,KACjBC,QAAS,KACTC,IAAK,KACLC,SAAU,UAmJ0BmB,SAAC,gBACrCC,EAAAA,EAAAA,MAACzC,EAAe,CAAAwC,SAAA,EACdJ,EAAAA,EAAAA,KAAC/B,EAAY,CACXgC,QAAS7B,EACT8D,MAAO,CACLC,MAAO,mCACPC,WAAY,eACZhC,SACH,YAGDJ,EAAAA,EAAAA,KAAC/B,EAAY,CAACI,KAAK,SAAQ+B,SAAC,uB","sources":["components/RecordDiaryModalNew/RecordDiaryModal.styled.jsx","components/RecordDiaryModalNew/RecordDiaryModal.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ModalOverlay = styled.div`\n  font-family: Poppins;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(3px);\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const ModalDiv = styled.div`\n  position: relative;\n  width: 300px;\n  height: 558px;\n  padding: 16px 12px 40px;\n  background-color: var(--bg-secondary);\n  border-radius: 12px;\n  overflow: auto;\n\n  @media (min-width: 834px) {\n    width: 676px;\n    height: 408px;\n    padding: 24px;\n  }\n`;\n\nexport const TitleText = styled.p`\n  margin-bottom: 24px;\n  color: var(--text-color-primary-white);\n  font-size: 24px;\n  font-weight: 500;\n  line-height: 1.2;\n\n  @media (min-width: 834px) {\n    font-size: 30px;\n  }\n`;\n\nexport const Subtitle = styled.p`\n  color: var(--text-color-primary-white);\n  font-size: 18px;\n  line-height: 1.455;\n\n  @media (min-width: 834px) {\n    font-size: 22px;\n  }\n`;\n\nexport const SubtitleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  @media (min-width: 834px) {\n    font-size: 30px;\n  }\n`;\n\nexport const FormDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  justify-content: space-between;\n  margin-top: 16px;\n\n  @media (min-width: 834px) {\n    flex-direction: row;\n    gap: 12px;\n    margin: 0;\n  }\n`;\n\nexport const NameField = styled.input`\n  padding: 8px 10px;\n\n  border-radius: 12px;\n  border: 1px solid var(--input-border-color-normal);\n  background-color: var(--bg-secondary);\n  color: var(--text-color-primary-white);\n  font-family: Poppins;\n  font-size: 14px;\n  line-height: 1.43;\n  width: 100%;\n  outline: none;\n\n  @media (min-width: 834px) {\n    margin-top: 16px;\n    width: 235px;\n  }\n`;\n\nexport const Field = styled.input`\n  padding: 8px 10px;\n  border-radius: 12px;\n  border: 1px solid var(--input-border-color-normal);\n  background-color: var(--bg-secondary);\n  color: var(--text-color-primary-white);\n  font-family: Poppins;\n  font-size: 14px;\n  line-height: 1.43;\n  width: 100%;\n  outline: none;\n\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: var(--text-color-secondary-grey);\n  }\n\n  @media (min-width: 834px) {\n    margin-top: 16px;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n  gap: 16px;\n  margin-top: 40px;\n\n  @media (min-width: 834px) {\n    position: absolute;\n    flex-direction: row;\n    bottom: 24px;\n    right: 24px;\n    gap: 12px;\n    margin: 0;\n  }\n`;\n\nexport const ButtonStyle = styled.button`\n  background-color: transparent;\n  border: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.43;\n  margin-top: 24px;\n  color: var(--text-color-active-page-green);\n`;\n\nexport const ButtonSubmit = styled.button`\n  width: 100%;\n  color: var(--text-color-button-black);\n  text-align: center;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.43;\n  height: 36px;\n  border-radius: 12px;\n  border: none;\n  background: var(--input-border-color-normal);\n\n  @media (min-width: 834px) {\n    width: 212px;\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { postFoodIntake } from 'redux/diary/operations';\n\nimport {\n  ModalOverlay,\n  ModalDiv,\n  NameField,\n  Field,\n  TitleText,\n  FormDiv,\n  Subtitle,\n  SubtitleContainer,\n  ButtonSubmit,\n  ButtonStyle,\n  ButtonContainer,\n} from './RecordDiaryModal.styled';\n\nimport breakfastImg from '../../assets/images/meal-periods/breakfast.png';\nimport breakfastImg2x from '../../assets/images/meal-periods/breakfast-2x.png';\nimport lunchImg from '../../assets/images/meal-periods/lunch.png';\nimport lunchImg2x from '../../assets/images/meal-periods/lunch-2x.png';\nimport dinnerImg from '../../assets/images/meal-periods/dinner.png';\nimport dinnerImg2x from '../../assets/images/meal-periods/dinner-2x.png';\nimport snackImg from '../../assets/images/meal-periods/snack.png';\nimport snackImg2x from '../../assets/images/meal-periods/snack-2x.png';\n\nconst RecordDiaryModal = ({ onClose, type }) => {\n  const dispatch = useDispatch();\n\n  const [formData, setFormData] = useState({\n    fields: [\n      {\n        ident: '1',\n        name: '',\n        carbonohidrates: '',\n        protein: '',\n        fat: '',\n        calories: '',\n      },\n    ],\n  });\n\n  const handleAddMore = e => {\n    e.preventDefault();\n\n    if (formData.fields[formData.fields.length - 1].name === '') {\n      return;\n    }\n\n    setFormData({\n      fields: [\n        ...formData.fields,\n        {\n          ident: Date.now(),\n          name: '',\n          carbonohidrates: null,\n          protein: null,\n          fat: null,\n          calories: null,\n        },\n      ],\n    });\n  };\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  const handleChange = (ident, fieldId, newValue) => {\n    const updatedFields = formData.fields.map(field =>\n      field.ident === ident ? { ...field, [fieldId]: newValue } : field\n    );\n    setFormData({ fields: updatedFields });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(postFoodIntake({ type, products: formData.fields }));\n    onClose();\n  };\n\n  return (\n    <ModalOverlay onClick={handleOverlayClick}>\n      <ModalDiv>\n        <TitleText>Record your meal</TitleText>\n        {type === 'breakfast' && (\n          <SubtitleContainer>\n            <img\n              srcSet={`${breakfastImg} 1x, ${breakfastImg2x} 2x`}\n              src={breakfastImg}\n              alt=\"breakfast\"\n              width=\"32\"\n              height=\"32\"\n            />\n            <Subtitle>Breakfast</Subtitle>\n          </SubtitleContainer>\n        )}\n        {type === 'lunch' && (\n          <SubtitleContainer>\n            <img\n              srcSet={`${lunchImg} 1x, ${lunchImg2x} 2x`}\n              src={lunchImg}\n              alt=\"lunch\"\n              width=\"32\"\n              height=\"32\"\n            />\n            <Subtitle>Lunch</Subtitle>\n          </SubtitleContainer>\n        )}\n        {type === 'dinner' && (\n          <SubtitleContainer>\n            <img\n              srcSet={`${dinnerImg} 1x, ${dinnerImg2x} 2x`}\n              src={dinnerImg}\n              alt=\"dinner\"\n              width=\"32\"\n              height=\"32\"\n            />\n            <Subtitle>Dinner</Subtitle>\n          </SubtitleContainer>\n        )}\n        {type === 'snack' && (\n          <SubtitleContainer>\n            <img\n              srcSet={`${snackImg} 1x, ${snackImg2x} 2x`}\n              src={snackImg}\n              alt=\"snack\"\n              width=\"32\"\n              height=\"32\"\n            />\n            <Subtitle>Snack</Subtitle>\n          </SubtitleContainer>\n        )}\n        <form onSubmit={handleSubmit}>\n          {formData.fields.map(field => (\n            <FormDiv key={field.ident}>\n              <NameField\n                id=\"name\"\n                type=\"string\"\n                required={true}\n                value={field.name}\n                onChange={e =>\n                  handleChange(field.ident, 'name', e.target.value)\n                }\n                placeholder=\"The name of the product or dish\"\n              />\n              <Field\n                id=\"carbonohidrates\"\n                type=\"number\"\n                min={0}\n                required={true}\n                value={field.carbonohidrates}\n                onChange={e =>\n                  handleChange(field.ident, 'carbonohidrates', e.target.value)\n                }\n                placeholder=\"Carbonoh.\"\n              />\n              <Field\n                id=\"protein\"\n                type=\"number\"\n                min={0}\n                required={true}\n                value={field.protein}\n                onChange={e =>\n                  handleChange(field.ident, 'protein', e.target.value)\n                }\n                placeholder=\"Protein\"\n              />\n              <Field\n                id=\"fat\"\n                type=\"number\"\n                min={0}\n                required={true}\n                value={field.fat}\n                onChange={e => handleChange(field.ident, 'fat', e.target.value)}\n                placeholder=\"Fat\"\n              />\n              <Field\n                id=\"calories\"\n                type=\"number\"\n                min={0}\n                required={true}\n                value={field.calories}\n                onChange={e =>\n                  handleChange(field.ident, 'calories', e.target.value)\n                }\n                placeholder=\"Calories\"\n              />\n            </FormDiv>\n          ))}\n\n          <ButtonStyle onClick={handleAddMore}>+ Add more</ButtonStyle>\n          <ButtonContainer>\n            <ButtonSubmit\n              onClick={onClose}\n              style={{\n                color: 'var(--text-color-secondary-grey)',\n                background: 'transparent',\n              }}\n            >\n              Cancel\n            </ButtonSubmit>\n            <ButtonSubmit type=\"submit\">Confirm</ButtonSubmit>\n          </ButtonContainer>\n        </form>\n      </ModalDiv>\n    </ModalOverlay>\n  );\n};\n\nexport default RecordDiaryModal;\n"],"names":["ModalOverlay","styled","div","_templateObject","_taggedTemplateLiteral","ModalDiv","_templateObject2","TitleText","p","_templateObject3","Subtitle","_templateObject4","SubtitleContainer","_templateObject5","FormDiv","_templateObject6","NameField","input","_templateObject7","Field","_templateObject8","ButtonContainer","_templateObject9","ButtonStyle","button","_templateObject0","ButtonSubmit","_templateObject1","_ref","onClose","type","dispatch","useDispatch","formData","setFormData","useState","fields","ident","name","carbonohidrates","protein","fat","calories","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","handleChange","fieldId","newValue","updatedFields","map","field","_objectSpread","_jsx","onClick","currentTarget","target","children","_jsxs","srcSet","concat","breakfastImg","breakfastImg2x","src","alt","width","height","lunchImg","lunchImg2x","dinnerImg","dinnerImg2x","snackImg","snackImg2x","onSubmit","e","preventDefault","postFoodIntake","products","id","required","value","onChange","placeholder","min","length","Date","now","style","color","background"],"sourceRoot":""}